{"version":3,"sources":["hoc/withAuthRedirect.js","redux/reducers/dialogsReducer.js","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Navbar/Navbar.module.css","components/common/FormsControls/FormsControls.jsx","components/Navbar/Navbar.jsx","api/api.js","utils/object-helper.js","redux/reducers/usersReducer.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","assets/images/user.png","components/Users/Users.jsx","assets/images/loader.svg","components/common/Preloader/Preloader.js","redux/reducers/usersSelelectors.js","components/Users/UsersContainer.jsx","redux/reducers/profileReducer.js","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Header/Header.jsx","redux/reducers/authReducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/reducers/appReducer.js","redux/redux-store.js","App.js","hoc/withSuspense.js","index.js","components/common/FormsControls/FormsControls.module.css","utils/validators/validators.js","components/Users/Users.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Header/Header.module.css"],"names":["mapStateToPropsRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","SEND_MESSAGE","initialState","dialogs","id","name","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","action","body","module","exports","Textarea","input","meta","hasError","error","touched","className","classes","formControl","Input","createField","placeholder","validators","component","text","validate","Navbar","nav","item","activeClassName","active","axiosInstance","axios","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","res","data","follow","userId","post","unfollow","delete","getProfile","authAPI","email","password","rememberMe","profileAPI","status","put","updateObjectInArray","items","itemId","objPropName","newObjProps","map","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_FOLLOWING_IN_PROGRESS","users","totalUsersCount","isFetching","isFollowingInProgress","toggleIsFetching","toggleFollowingInProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","page","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","pagesCount","Math","ceil","portionCount","pages","i","push","onClick","selectedPage","e","User","user","unfollowUser","followUser","userItem","src","photos","small","alt","userPhoto","disabled","some","Users","Preloader","loader","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getIsFollowingInProgress","UsersContainerComponent","requestUsers","compose","totalCount","bind","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","posts","likesCount","profile","setStatus","profileReducer","newPost","newPostBody","postId","Post","maxLength","maxLengthCreator","AddNewPostFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","required","MyPosts","postElements","postsBlock","values","addPost","MyPostsContainer","profilePage","newPostText","addPostActionCreator","ProfileStatus","editMode","setEditMode","useEffect","onDoubleClick","value","onBlur","updateStatus","autoFocus","onChange","currentTarget","ProfileInfo","descriptionBlock","large","Profile","store","ProfileContainer","match","params","authorizedUserId","history","getUserProfile","getUserStatus","withRouter","Header","header","loginBlock","login","logout","SET_USER_DATA","setUserData","payload","setUser","authReducer","HeaderContainer","LoginReduxForm","formSummaryError","length","stopSubmit","_error","formData","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","dialogsPage","formReducer","app","createStore","composeWithDevTools","applyMiddleware","thunk","window","DialogsContainer","lazy","App","initializeApp","render","path","fallback","exact","UsersContainer","AppContainer","promise","Promise","all","MainApp","basename","process","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.0366ed01.chunk.js","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router';\r\n\r\nconst mapStateToPropsRedirect = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to=\"/login\" />;\r\n\r\n      return <Component {...this.props} />;\r\n    }\r\n  }\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsRedirect)(\r\n    RedirectComponent\r\n  );\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n};\r\n","const SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n  dialogs: [\r\n    { id: 1, name: 'Vasya' },\r\n    { id: 2, name: 'Petya' },\r\n    { id: 3, name: 'Kolya' },\r\n    { id: 4, name: 'Marina' },\r\n  ],\r\n  messages: [\r\n    { id: 1, message: 'Message 1' },\r\n    { id: 2, message: 'Message 2' },\r\n    { id: 3, message: 'Message 3' },\r\n  ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n      let body = action.newMessageBody;\r\n      return {\r\n        ...state,\r\n        messages: [...state.messages, { id: 4, message: body }],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const sendMessageCreator = (newMessageBody) => {\r\n  return { type: SEND_MESSAGE, newMessageBody };\r\n};\r\n\r\nexport default dialogsReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__d3G93\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__2D394\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__Us6y_\",\"item\":\"Navbar_item__1Fnh0\",\"active\":\"Navbar_active__8A8kp\"};","import { Field } from 'redux-form';\r\nimport classes from './FormsControls.module.css';\r\n\r\nexport const Textarea = ({ input, meta, ...props }) => {\r\n  const hasError = meta.error && meta.touched;\r\n  return (\r\n    <div\r\n      className={classes.formControl + ' ' + (hasError ? classes.error : '')}\r\n    >\r\n      <div>\r\n        <textarea {...input} {...props} />\r\n      </div>\r\n      {hasError && <span>{meta.error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Input = ({ input, meta, ...props }) => {\r\n  const hasError = meta.error && meta.touched;\r\n  return (\r\n    <div\r\n      className={classes.formControl + ' ' + (hasError ? classes.error : '')}\r\n    >\r\n      <div>\r\n        <input {...input} {...props} />\r\n      </div>\r\n      {hasError && <span>{meta.error}</span>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const createField = (\r\n  placeholder,\r\n  name,\r\n  validators,\r\n  component,\r\n  props = {},\r\n  text = ''\r\n) => {\r\n  return (\r\n    <div>\r\n      <Field\r\n        placeholder={placeholder}\r\n        component={component}\r\n        name={name}\r\n        validate={validators}\r\n        {...props}\r\n      />\r\n      {text}\r\n    </div>\r\n  );\r\n};\r\n","import classes from './Navbar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <nav className={classes.nav}>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/profile\" activeClassName={classes.active}>\r\n          Profile\r\n        </NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/dialogs\" activeClassName={classes.active}>\r\n          Dialogs\r\n        </NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/users\" activeClassName={classes.active}>\r\n          Users\r\n        </NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/news\" activeClassName={classes.active}>\r\n          News\r\n        </NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/music\" activeClassName={classes.active}>\r\n          Music\r\n        </NavLink>\r\n      </div>\r\n      <div className={classes.item}>\r\n        <NavLink to=\"/settings\" activeClassName={classes.active}>\r\n          Settings\r\n        </NavLink>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import * as axios from 'axios';\r\n\r\nconst axiosInstance = axios.create({\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  withCredentials: true,\r\n  headers: {\r\n    'API-KEY': '14ec49fd-fc4a-4b97-b635-fb9ce0fe9f8c',\r\n  },\r\n});\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage, pageSize) {\r\n    return axiosInstance\r\n      .get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then((res) => res.data);\r\n  },\r\n\r\n  follow(userId) {\r\n    return axiosInstance.post(`follow/${userId}`);\r\n  },\r\n\r\n  unfollow(userId) {\r\n    return axiosInstance.delete(`follow/${userId}`);\r\n  },\r\n\r\n  getProfile(userId) {\r\n    return axiosInstance.get(`profile/${userId}`);\r\n  },\r\n};\r\n\r\nexport const authAPI = {\r\n  me() {\r\n    return axiosInstance.get(`auth/me`);\r\n  },\r\n\r\n  login(email, password, rememberMe = false) {\r\n    return axiosInstance.post(`auth/login`, { email, password, rememberMe });\r\n  },\r\n\r\n  logout() {\r\n    return axiosInstance.delete('auth/login');\r\n  },\r\n};\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId) {\r\n    return axiosInstance.get(`profile/${userId}`);\r\n  },\r\n\r\n  getStatus(userId) {\r\n    return axiosInstance.get(`profile/status/${userId}`);\r\n  },\r\n\r\n  updateStatus(status) {\r\n    return axiosInstance.put(`profile/status`, { status: status });\r\n  },\r\n};\r\n","export const updateObjectInArray = (\r\n  items,\r\n  itemId,\r\n  objPropName,\r\n  newObjProps\r\n) => {\r\n  return items.map((item) => {\r\n    if (item[objPropName] === itemId) {\r\n      return { ...item, ...newObjProps };\r\n    }\r\n    return item;\r\n  });\r\n};\r\n","import { usersAPI } from '../../api/api';\r\nimport { updateObjectInArray } from '../../utils/object-helper';\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_FOLLOWING_IN_PROGRESS = 'TOGGLE_FOLLOWING_IN_PROGRESS';\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 10,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  isFollowingInProgress: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, 'id', {\r\n          followed: true,\r\n        }),\r\n      };\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, 'id', {\r\n          followed: false,\r\n        }),\r\n      };\r\n    case SET_USERS:\r\n      return {\r\n        ...state,\r\n        users: [...action.users],\r\n      };\r\n    case SET_CURRENT_PAGE:\r\n      return {\r\n        ...state,\r\n        currentPage: action.page,\r\n      };\r\n    case SET_TOTAL_USERS_COUNT:\r\n      return {\r\n        ...state,\r\n        totalUsersCount: action.count,\r\n      };\r\n    case TOGGLE_IS_FETCHING:\r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching,\r\n      };\r\n    case TOGGLE_FOLLOWING_IN_PROGRESS:\r\n      return {\r\n        ...state,\r\n        isFollowingInProgress: action.isFollowingInProgress\r\n          ? [...state.isFollowingInProgress, action.userId]\r\n          : state.isFollowingInProgress.filter((id) => id !== action.userId),\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst follow = (userId) => {\r\n  return { type: FOLLOW, userId };\r\n};\r\n\r\nconst unfollow = (userId) => {\r\n  return { type: UNFOLLOW, userId };\r\n};\r\n\r\nconst setUsers = (users) => {\r\n  return { type: SET_USERS, users };\r\n};\r\n\r\nconst setCurrentPage = (page) => {\r\n  return { type: SET_CURRENT_PAGE, page };\r\n};\r\n\r\nconst setTotalUsersCount = (count) => {\r\n  return { type: SET_TOTAL_USERS_COUNT, count };\r\n};\r\n\r\nconst toggleIsFetching = (isFetching) => {\r\n  return { type: TOGGLE_IS_FETCHING, isFetching };\r\n};\r\n\r\nconst toggleFollowingInProgress = (isFollowingInProgress, userId) => {\r\n  return {\r\n    type: TOGGLE_FOLLOWING_IN_PROGRESS,\r\n    isFollowingInProgress,\r\n    userId,\r\n  };\r\n};\r\n\r\nexport const requestUsers = (currentPage, pageSize) => {\r\n  return async (dispatch) => {\r\n    dispatch(setCurrentPage(currentPage));\r\n    dispatch(toggleIsFetching(true));\r\n    const data = await usersAPI.getUsers(currentPage, pageSize);\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUsersCount(data.totalCount));\r\n  };\r\n};\r\n\r\nconst followUnfollowFlow = async (\r\n  userId,\r\n  dispatch,\r\n  apiMethod,\r\n  actionCreator\r\n) => {\r\n  dispatch(toggleFollowingInProgress(true, userId));\r\n  const res = await apiMethod(userId);\r\n  if (res.data.resultCode === 0) {\r\n    dispatch(actionCreator(userId));\r\n  }\r\n  dispatch(toggleFollowingInProgress(false, userId));\r\n};\r\n\r\nexport const followUser = (userId) => {\r\n  return async (dispatch) => {\r\n    followUnfollowFlow(\r\n      userId,\r\n      dispatch,\r\n      usersAPI.follow.bind(usersAPI),\r\n      follow\r\n    );\r\n  };\r\n};\r\n\r\nexport const unfollowUser = (userId) => {\r\n  return async (dispatch) => {\r\n    followUnfollowFlow(\r\n      userId,\r\n      dispatch,\r\n      usersAPI.unfollow.bind(usersAPI),\r\n      unfollow\r\n    );\r\n  };\r\n};\r\n\r\nexport default usersReducer;\r\n","import React, { useState } from 'react';\r\nimport classes from '../../Users/Users.module.css';\r\n\r\nconst Paginator = ({\r\n  totalItemsCount,\r\n  pageSize,\r\n  currentPage,\r\n  onPageChanged,\r\n  portionSize = 10,\r\n}) => {\r\n  const [portionNumber, setPortionNumber] = useState(1);\r\n  const leftPortionPageNumber = (portionNumber - 1) * pageSize + 1;\r\n  const rightPortionPageNumber = portionNumber * pageSize;\r\n  let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n  const portionCount = Math.ceil(pagesCount / portionSize);\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n  return (\r\n    <div>\r\n      {portionNumber > 1 && (\r\n        <button onClick={() => setPortionNumber(portionNumber - 1)}>\r\n          prev\r\n        </button>\r\n      )}\r\n      {pages\r\n        .filter(\r\n          (page) =>\r\n            page >= leftPortionPageNumber && page <= rightPortionPageNumber\r\n        )\r\n        .map((page) => {\r\n          return (\r\n            <span\r\n              className={currentPage === page && classes.selectedPage}\r\n              onClick={(e) => {\r\n                onPageChanged(page);\r\n              }}\r\n            >\r\n              {page}\r\n            </span>\r\n          );\r\n        })}\r\n      {portionNumber < portionCount && (\r\n        <button onClick={() => setPortionNumber(portionNumber + 1)}>\r\n          next\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paginator;\r\n","import React from 'react';\r\nimport classes from './Users.module.css';\r\nimport userAvatar from '../../assets/images/user.png';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst User = ({ user, isFollowingInProgress, unfollowUser, followUser }) => {\r\n  return (\r\n    <div className={classes.userItem}>\r\n      <div>\r\n        <NavLink to={'/profile/' + user.id}>\r\n          <img\r\n            src={user.photos.small ? user.photos.small : userAvatar}\r\n            alt=\"user\"\r\n            className={classes.userPhoto}\r\n          />\r\n        </NavLink>\r\n\r\n        {user.followed ? (\r\n          <button\r\n            disabled={isFollowingInProgress.some((id) => id === user.id)}\r\n            onClick={() => {\r\n              unfollowUser(user.id);\r\n            }}\r\n          >\r\n            Unfollow\r\n          </button>\r\n        ) : (\r\n          <button\r\n            disabled={isFollowingInProgress.some((id) => id === user.id)}\r\n            onClick={() => {\r\n              followUser(user.id);\r\n            }}\r\n          >\r\n            Follow\r\n          </button>\r\n        )}\r\n      </div>\r\n      <div>\r\n        <div>\r\n          <p>{user.name}</p>\r\n          <p>{user.status}</p>\r\n        </div>\r\n        <div>\r\n          <p>{'user.location.city'}</p>\r\n          <p>{'user.location.country'}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","export default \"data:image/png;base64,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\"","import React from 'react';\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\nconst Users = ({\r\n  totalUsersCount,\r\n  pageSize,\r\n  currentPage,\r\n  onPageChanged,\r\n  users,\r\n  ...props\r\n}) => {\r\n  return (\r\n    <div>\r\n      <Paginator\r\n        totalItemsCount={totalUsersCount}\r\n        pageSize={pageSize}\r\n        currentPage={currentPage}\r\n        onPageChanged={onPageChanged}\r\n      />\r\n      {users.map((user) => {\r\n        return (\r\n          <User\r\n            key={user.id}\r\n            user={user}\r\n            isFollowingInProgress={props.isFollowingInProgress}\r\n            unfollowUser={props.unfollowUser}\r\n            followUser={props.followUser}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","export default __webpack_public_path__ + \"static/media/loader.13ea8283.svg\";","import loader from '../../../assets/images/loader.svg';\r\n\r\nconst Preloader = () => {\r\n  return (\r\n    <div>\r\n      <img src={loader} alt=\"loader\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Preloader;\r\n","export const getUsers = (state) => {\r\n  return state.usersPage.users;\r\n};\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize;\r\n};\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount;\r\n};\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage;\r\n};\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching;\r\n};\r\n\r\nexport const getIsFollowingInProgress = (state) => {\r\n  return state.usersPage.isFollowingInProgress;\r\n};\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  requestUsers,\r\n  followUser,\r\n  unfollowUser,\r\n} from '../../redux/reducers/usersReducer';\r\nimport Users from './Users';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport {\r\n  getUsers,\r\n  getPageSize,\r\n  getTotalUsersCount,\r\n  getCurrentPage,\r\n  getIsFetching,\r\n  getIsFollowingInProgress,\r\n} from '../../redux/reducers/usersSelelectors';\r\n\r\nclass UsersContainerComponent extends React.Component {\r\n  componentDidMount() {\r\n    this.props.requestUsers(this.props.currentPage, this.props.pageSize);\r\n  }\r\n\r\n  onPageChanged = (page) => {\r\n    this.props.requestUsers(page, this.props.pageSize);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? <Preloader /> : null}\r\n        <Users\r\n          users={this.props.users}\r\n          totalUsersCount={this.props.totalUsersCount}\r\n          pageSize={this.props.pageSize}\r\n          currentPage={this.props.currentPage}\r\n          onPageChanged={this.onPageChanged}\r\n          isFollowingInProgress={this.props.isFollowingInProgress}\r\n          followUser={this.props.followUser}\r\n          unfollowUser={this.props.unfollowUser}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    isFollowingInProgress: getIsFollowingInProgress(state),\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    requestUsers,\r\n    followUser,\r\n    unfollowUser,\r\n  })\r\n  //   withAuthRedirect\r\n)(UsersContainerComponent);\r\n","import { profileAPI } from '../../api/api';\r\n\r\nconst ADD_POST = 'ADD_POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST';\r\n\r\nlet initialState = {\r\n  posts: [\r\n    { id: 1, message: 'Post 1', likesCount: 2 },\r\n    { id: 2, message: 'Post 2', likesCount: 2 },\r\n    { id: 3, message: 'Post 3', likesCount: 4 },\r\n    { id: 4, message: 'Post 4', likesCount: 5 },\r\n  ],\r\n  profile: null,\r\n  status: '',\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      const newPost = {\r\n        id: 7,\r\n        message: action.newPostBody,\r\n        likesCount: 0,\r\n      };\r\n      return { ...state, posts: [...state.posts, newPost] };\r\n    }\r\n    case SET_STATUS:\r\n      return { ...state, status: action.status };\r\n    case SET_USER_PROFILE: {\r\n      return { ...state, profile: action.profile };\r\n    }\r\n    case DELETE_POST: {\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter((post) => post.id !== action.postId),\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addPostActionCreator = (newPostBody) => {\r\n  return { type: ADD_POST, newPostBody };\r\n};\r\n\r\nexport const setStatus = (status) => {\r\n  return {\r\n    type: SET_STATUS,\r\n    status: status,\r\n  };\r\n};\r\n\r\nconst setUserProfile = (profile) => {\r\n  return { type: SET_USER_PROFILE, profile: profile };\r\n};\r\n\r\nexport const deletePost = (postId) => {\r\n  return { type: DELETE_POST, postId };\r\n};\r\n\r\nexport const getUserProfile = (userId) => {\r\n  return async (dispatch) => {\r\n    const res = await profileAPI.getProfile(userId);\r\n    dispatch(setUserProfile(res.data));\r\n  };\r\n};\r\n\r\nexport const getUserStatus = (userId) => {\r\n  return async (dispatch) => {\r\n    const res = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(res.data));\r\n  };\r\n};\r\n\r\nexport const updateStatus = (status) => {\r\n  return async (dispatch) => {\r\n    const res = await profileAPI.updateStatus(status);\r\n    if (res.data.resultCode === 0) {\r\n      dispatch(setStatus(status));\r\n    }\r\n  };\r\n};\r\n\r\nexport default profileReducer;\r\n","import classes from './Post.module.css';\r\n\r\nconst Post = ({ message, likesCount }) => {\r\n  return (\r\n    <div className={classes.item}>\r\n      <img\r\n        src=\"https://i.pinimg.com/originals/51/f6/fb/51f6fb256629fc755b8870c801092942.png\"\r\n        alt=\"user\"\r\n      />\r\n      <p>{message}</p>\r\n      <p>{`Likes ${likesCount}`}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport classes from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport {\r\n  maxLengthCreator,\r\n  required,\r\n} from '../../../utils/validators/validators';\r\nimport { Textarea } from '../../common/FormsControls/FormsControls';\r\n\r\nconst maxLength = maxLengthCreator(10);\r\n\r\nconst MyPosts = (props) => {\r\n  const postElements = props.posts.map((post) => (\r\n    <Post message={post.message} key={post.id} likesCount={post.likesCount} />\r\n  ));\r\n\r\n  let onAddPost = (values) => {\r\n    props.addPost(values.newPostBody);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.postsBlock}>\r\n      <h3>My Posts</h3>\r\n      <AddNewPostFormRedux onSubmit={onAddPost} />\r\n      <div className={classes.posts}>{postElements}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AddNewPostForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field\r\n          component={Textarea}\r\n          name=\"newPostBody\"\r\n          placeholder=\"Enter your post\"\r\n          validate={[required, maxLength]}\r\n        />\r\n      </div>\r\n      <div>\r\n        <button>Add post</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst AddNewPostFormRedux = reduxForm({ form: 'postsAddMessageForm' })(\r\n  AddNewPostForm\r\n);\r\nexport default MyPosts;\r\n","import { connect } from 'react-redux';\r\nimport { addPostActionCreator } from '../../../redux/reducers/profileReducer';\r\nimport MyPosts from './MyPosts';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n    newPostText: state.profilePage.newPostText,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (newPostBody) => {\r\n      dispatch(addPostActionCreator(newPostBody));\r\n    },\r\n  };\r\n};\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nconst ProfileStatus = (props) => {\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [status, setStatus] = useState(props.status);\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status);\r\n  }, [props.status]);\r\n\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value);\r\n  };\r\n\r\n  const activateEditMode = () => {\r\n    setEditMode(true);\r\n  };\r\n\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false);\r\n\r\n    props.updateStatus(status);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {!editMode && (\r\n        <div>\r\n          <span onDoubleClick={activateEditMode}>\r\n            {props.status || 'STATUS'}\r\n          </span>\r\n        </div>\r\n      )}\r\n      {editMode && (\r\n        <div>\r\n          <input\r\n            value={status}\r\n            onBlur={deactivateEditMode}\r\n            autoFocus={true}\r\n            onChange={onStatusChange}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileStatus;\r\n","import Preloader from '../../common/Preloader/Preloader';\r\nimport classes from './ProfileInfo.module.css';\r\nimport ProfileStatus from './ProfileStatusWithHooks';\r\n\r\nconst ProfileInfo = (props) => {\r\n  if (!props.profile) {\r\n    return (\r\n      <>\r\n        <Preloader />\r\n      </>\r\n    );\r\n  }\r\n  return (\r\n    <div>\r\n      {/* <div>\r\n        <img\r\n          src=\"https://www.gettyimages.pt/gi-resources/images/Homepage/Hero/PT/PT_hero_42_153645159.jpg\"\r\n          alt=\"img\"\r\n        />\r\n      </div> */}\r\n      <ProfileStatus status={props.status} updateStatus={props.updateStatus} />\r\n      <div className={classes.descriptionBlock}>\r\n        <img src={props.profile.photos.large} alt=\"avatar\" />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileInfo;\r\n","import MyPostsContainer from './MyPosts/MyPostsContainer';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\n\r\nconst Profile = (props) => {\r\n  return (\r\n    <div>\r\n      <ProfileInfo\r\n        profile={props.profile}\r\n        status={props.status}\r\n        updateStatus={props.updateStatus}\r\n      />\r\n      <MyPostsContainer store={props.store} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import { Component } from 'react';\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  getUserProfile,\r\n  getUserStatus,\r\n  updateStatus,\r\n} from '../../redux/reducers/profileReducer';\r\nimport { withRouter } from 'react-router';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\n\r\nclass ProfileContainer extends Component {\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId) {\r\n      userId = this.props.authorizedUserId;\r\n      if (!userId) {\r\n        this.props.history.push('/login');\r\n      }\r\n    }\r\n\r\n    this.props.getUserProfile(userId);\r\n    this.props.getUserStatus(userId);\r\n  }\r\n  render() {\r\n    return <Profile {...this.props} />;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { getUserProfile, getUserStatus, updateStatus }),\r\n  withRouter,\r\n  withAuthRedirect\r\n)(ProfileContainer);\r\n","import { NavLink } from 'react-router-dom';\r\nimport classes from './Header.module.css';\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={classes.header}>\r\n      <img\r\n        src=\"https://cdn.logo.com/hotlink-ok/logo-social-sq.png\"\r\n        alt=\"logo\"\r\n      />\r\n      <div className={classes.loginBlock}>\r\n        {props.isAuth ? (\r\n          <div>\r\n            {props.login} - <button onClick={props.logout}>Logout</button>\r\n          </div>\r\n        ) : (\r\n          <NavLink to={'login'}>Login</NavLink>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { stopSubmit } from 'redux-form';\r\nimport { authAPI } from '../../api/api';\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst setUserData = (userId, email, login, isAuth) => {\r\n  return { type: SET_USER_DATA, payload: { userId, email, login, isAuth } };\r\n};\r\n\r\nexport const setUser = () => {\r\n  return (dispatch) => {\r\n    return authAPI.me().then((res) => {\r\n      if (res.data.resultCode === 0) {\r\n        let { id, login, email } = res.data.data;\r\n        dispatch(setUserData(id, email, login, true));\r\n      }\r\n    });\r\n  };\r\n};\r\n\r\nexport const login = (email, password, rememberMe) => {\r\n  return async (dispatch) => {\r\n    const res = await authAPI.login(email, password, rememberMe);\r\n    if (res.data.resultCode === 0) {\r\n      dispatch(setUser());\r\n    } else {\r\n      let message =\r\n        res.data.messages.length > 0 ? res.data.messages[0] : 'Some error';\r\n      let action = stopSubmit('login', { _error: message });\r\n      dispatch(action);\r\n    }\r\n  };\r\n};\r\n\r\nexport const logout = () => {\r\n  return async (dispatch) => {\r\n    const res = await authAPI.logout();\r\n    if (res.data.resultCode === 0) {\r\n      dispatch(setUserData(null, null, null, false));\r\n    }\r\n  };\r\n};\r\n\r\nexport default authReducer;\r\n","import { Component } from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../redux/reducers/authReducer';\r\n\r\nclass HeaderContainer extends Component {\r\n  render() {\r\n    return <Header {...this.props} />;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n});\r\n\r\nexport default connect(mapStateToProps, { logout })(HeaderContainer);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { reduxForm } from 'redux-form';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { createField, Input } from '../common/FormsControls/FormsControls';\r\nimport { login } from '../../redux/reducers/authReducer';\r\nimport { Redirect } from 'react-router';\r\nimport classes from '../common/FormsControls/FormsControls.module.css';\r\n\r\nconst LoginForm = ({ handleSubmit, error }) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      {createField('Email', 'email', [required], Input)}\r\n      {createField('Password', 'password', [required], Input, {\r\n        type: 'password',\r\n      })}\r\n      {createField(\r\n        null,\r\n        'rememberMe',\r\n        [],\r\n        Input,\r\n        {\r\n          type: 'checkbox',\r\n        },\r\n        'Remember me'\r\n      )}\r\n      {error && <div className={classes.formSummaryError}>{error}</div>}\r\n\r\n      <div>\r\n        <button>Login</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  form: 'login',\r\n})(LoginForm);\r\n\r\nconst Login = ({ login, isAuth }) => {\r\n  const onSubmit = (formData) => {\r\n    login(formData.email, formData.password, formData.rememberMe);\r\n  };\r\n\r\n  if (isAuth) {\r\n    return <Redirect to={'/profile'} />;\r\n  }\r\n  return (\r\n    <div>\r\n      <h1>Login</h1>\r\n      <LoginReduxForm onSubmit={onSubmit} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { login })(Login);\r\n","import { setUser } from './authReducer';\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n  initialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const initializedSuccess = () => {\r\n  return {\r\n    type: INITIALIZED_SUCCESS,\r\n  };\r\n};\r\n\r\nexport const initializeApp = () => {\r\n  return (dispatch) => {\r\n    let promise = dispatch(setUser());\r\n    Promise.all([promise]).then(() => {\r\n      dispatch(initializedSuccess());\r\n    });\r\n  };\r\n};\r\n\r\nexport default appReducer;\r\n","import { applyMiddleware, combineReducers, createStore } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport authReducer from './reducers/authReducer';\r\nimport dialogsReducer from './reducers/dialogsReducer';\r\nimport profileReducer from './reducers/profileReducer';\r\nimport usersReducer from './reducers/usersReducer';\r\nimport appReducer from './reducers/appReducer';\r\n\r\nlet reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer,\r\n});\r\n\r\nlet store = createStore(reducers, composeWithDevTools(applyMiddleware(thunk)));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;\r\n","import './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport { Route } from 'react-router-dom';\n// import DialogsContainer from './components/Dialogs/DialogsContainer';\nimport UsersContainer from './components/Users/UsersContainer';\nimport ProfileContainer from './components/Profile/ProfileContainer';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Login from './components/Login/Login';\nimport { Component, lazy, Suspense } from 'react';\nimport { connect } from 'react-redux';\nimport { initializeApp } from './redux/reducers/appReducer';\nimport Preloader from './components/common/Preloader/Preloader';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport store from './redux/redux-store';\nimport { withSuspense } from './hoc/withSuspense';\n\nconst DialogsContainer = lazy(() =>\n  import('./components/Dialogs/DialogsContainer')\n);\n\nclass App extends Component {\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />;\n    }\n    return (\n      <div className=\"app-wrapper\">\n        <HeaderContainer />\n        <Navbar />\n        <div className=\"app-wrapper-content\">\n          <Route\n            render={() => <ProfileContainer store={this.props.store} />}\n            path=\"/profile/:userId?\"\n          />\n          <Route\n            render={withSuspense(DialogsContainer)}\n            path=\"/dialogs\"\n            exact\n          />\n          <Route render={() => <UsersContainer />} path=\"/users\" exact />\n          <Route render={() => <Login />} path=\"/login\" exact />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    initialized: state.app.initialized,\n  };\n};\n\nconst AppContainer = connect(mapStateToProps, { initializeApp })(App);\nconst MainApp = () => {\n  return (\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <Provider store={store}>\n        <AppContainer />\n      </Provider>\n    </BrowserRouter>\n  );\n};\n\nexport default MainApp;\n","import React, { Suspense } from 'react';\r\nimport Preloader from '../components/common/Preloader/Preloader';\r\n\r\nexport const withSuspense = (Component) => {\r\n  return (props) => {\r\n    return (\r\n      <Suspense fallback={<Preloader />}>\r\n        <Component {...props} />\r\n      </Suspense>\r\n    );\r\n  };\r\n};\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MainApp from './App';\n\nReactDOM.render(\n  // <React.StrictMode>\n  <MainApp />,\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__2KoTh\",\"error\":\"FormsControls_error__3MztL\",\"formSummaryError\":\"FormsControls_formSummaryError__2Ds4j\"};","export const required = (value) => {\r\n  if (value) return undefined;\r\n  return 'Field is required';\r\n};\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value.length > maxLength) return `Max length is ${maxLength}`;\r\n  return undefined;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userItem\":\"Users_userItem__3gCqt\",\"userPhoto\":\"Users_userPhoto__3ctpY\",\"selectedPage\":\"Users_selectedPage__3lSCR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__1xi-q\",\"posts\":\"MyPosts_posts__UKCvo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2P4NE\",\"loginBlock\":\"Header_loginBlock__DbAIE\"};"],"sourceRoot":""}